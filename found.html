<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Found Item | ZANTAGZ</title>
  <style>
    :root { color-scheme: dark light; }
    body {
      margin: 0;
      background: #000;
      color: #fff;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      text-align: center;
      padding: 48px 20px;
    }
    h1 { font-size: 2.4rem; margin: 0 0 .5rem; }
    p  { opacity: .85; line-height: 1.6; max-width: 560px; margin: 0 auto 32px; }
    .stack { display: grid; gap: 12px; justify-content: center; }
    .btn {
      display: inline-block; background: #fff; color: #000;
      padding: 14px 28px; font-weight: 700; border-radius: 6px; text-decoration: none;
      transition: transform .15s ease, background .15s ease;
    }
    .btn:hover { background: #f0f0f0; transform: translateY(-1px); }
    form {
      background: #0b0b0b; border: 1px solid #222; border-radius: 10px;
      max-width: 560px; margin: 28px auto 0; padding: 18px;
      text-align: left;
    }
    label { font-size: .95rem; opacity: .9; }
    input, textarea {
      width: 100%; margin-top: 6px; margin-bottom: 14px;
      padding: 12px 14px; border-radius: 8px; border: 1px solid #2a2a2a;
      background: #0f0f0f; color: #fff; font-size: 16px;
    }
    textarea { min-height: 110px; resize: vertical; }
    .submit { width: 100%; }
    .note { opacity: .7; font-size: .95rem; margin-top: 10px; text-align: center; }
    footer { margin-top: 48px; font-size: .9rem; opacity: .5; }
    .success {
      background:#082; color:#fff; border:1px solid #194; padding:12px 14px;
      border-radius:8px; max-width:560px; margin:18px auto; text-align:center;
    }
    /* --- Toast (success popup) --- */
#toast {
  position: fixed;
  left: 50%;
  bottom: 24px;
  transform: translateX(-50%);
  background: #0a0a0a;
  color: #fff;
  border: 1px solid #2a2a2a;
  border-radius: 10px;
  padding: 12px 16px;
  font-size: .95rem;
  box-shadow: 0 6px 24px rgba(0,0,0,.35);
  display: none;
  align-items: center;
  gap: 10px;
  z-index: 9999;
}
.toast-icon { font-size: 1.1rem; }
  </style>
</head>
<body>
<img src="/assets/assets/Zantagz logo.png.PNG?v=4"
     alt="ZANTAGZ Logo"
     style="width:160px; display:block; margin:40px auto 20px;" />
  <main>
    <!-- Success toast -->
<div id="toast" role="status" aria-live="polite" style="display:none;">
  <span class="toast-icon">✅</span>
  <span>Your message was sent. Thank you!</span>
</div>
    <h1>Found Item</h1>
    <p>Thanks for scanning this ZANTAGZ smart tag. Please help return it to its owner.</p>

    <!-- Quick contact buttons -->
    <div class="stack">
      <!-- Email goes to info@zantagz.com -->
      <a class="btn" href="mailto:info@zantagz.com?subject=Found%20item%20via%20ZANTAGZ">Email owner</a>

      <!-- WhatsApp opens with a pre-filled message.
           If you later have a destination number, change to:
           https://wa.me/15551234567?text=... -->
      <a class="btn" href="https://wa.me/?text=Hi%20I%20found%20your%20item%20via%20ZANTAGZ.%20I’m%20at%20_____."
         target="_blank" rel="noopener">WhatsApp owner</a>
      <!-- Google Form link: auto-prefills Tag ID -->
  <a id="reportBtn" class="btn" href="#" rel="nofollow">Report found</a>
    </div>

    <!-- Success message after Netlify form submit -->
    <div id="ok" class="success" style="display:none;">Thanks! Your note was sent.</div>

    <!-- Leave-a-note form (Netlify Forms) -->
    <form action="https://formspree.io/f/mgvnrpod" method="POST" id="found-note">
      <input type="hidden" name="form-name" value="found-note" />
      <input type="hidden" name="page" value="/found.html" />

      <!-- Honeypot field (hidden from humans) -->
      <p style="display:none;">
        <label>Don’t fill this out: <input name="bot-field" /></label>
      </p>

      <label for="name">Your name (optional)</label>
      <input id="name" name="name" autocomplete="name" />

      <label for="phone">Phone or WhatsApp (optional)</label>
      <input id="phone" name="phone" inputmode="tel" autocomplete="tel" />

      <label for="message">Where is the item?</label>
      <textarea id="message" name="message" placeholder="e.g. With security at the lost &amp; found desk"></textarea>

      <button class="btn submit" type="submit">Send note</button>
      <div class="note">Notes are delivered securely to ZANTAGZ. The owner will be notified.</div>
    </form>
  </main>

  <footer>&copy; 2025 ZANTAGZ | Smart Lost &amp; Found</footer>

  <script>
    // Show “thanks” after Netlify redirects back with ?success=1 OR when form is submitted via SPA
    if (location.search.includes('success=1')) {
      document.getElementById('ok').style.display = 'block';
    }
    // Progressive enhancement: intercept submit to keep user on page, then signal success.
    const form = document.querySelector('form[data-netlify="true"]');
    form?.addEventListener('submit', function (e) {
      if (form.getAttribute('data-handled')) return; // allow Netlify to process
      // Let Netlify handle normally; if you prefer AJAX, we can add it later.
    });
  </script>
  <form action="https://formspree.io/f/mgvnrpod" method="POST" id="found-note" data-handled="true">
<script>
  const form = document.querySelector('form');
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const ok = document.getElementById('ok');
    const data = new FormData(form);
    try {
      const res = await fetch(form.action, {
        method: 'POST',
        body: data,
        headers: { 'Accept': 'application/json' }
      });
      if (res.ok) {
        ok.style.display = 'block'; // shows “Thanks! Your note was sent.”
        form.reset();
      } else {
        alert('Something went wrong. Please try again.');
      }
    } catch {
      alert('Network error. Please try again.');
      <script>
  (function () {
    const form = document.getElementById('found-note');
    const toast = document.getElementById('toast');

    if (!form) return;

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const data = new FormData(form);

      try {
        const res = await fetch(form.action, {
          method: 'POST',
          body: data,
          headers: { 'Accept': 'application/json' }
        });

        if (res.ok) {
          showToast('✅ Your message was sent. Thank you!');
          form.reset();
          // Optional redirect after 2s
          // setTimeout(() => { window.location.href = '/success.html'; }, 2000);
        } else {
          showToast('❗ Something went wrong. Please try again.');
        }
      } catch {
        showToast('❗ Network error. Please try again.');
      }
    });

    function showToast(msg) {
      toast.innerHTML = `<span class="toast-icon">${msg.startsWith('✅') ? '✅' : '❗'}</span><span>${msg.replace(/^✅ |^❗ /,'')}</span>`;
      toast.style.display = 'flex';
      clearTimeout(window._toastTimer);
      window._toastTimer = setTimeout(() => { toast.style.display = 'none'; }, 3000);
    }
  })();
</script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  function getParam(key) {
    const url = new URL(window.location.href);
    return url.searchParams.get(key) || '';
  }

  const formBase = 'https://docs.google.com/forms/d/e/1FAIpQLSdybf7TghzzJemsKlssVCTAF7LE0ic32bW57Jvc7Mz2dMWeFA/viewform?usp=pp_url&entry.2087795821=';

  const btn = document.getElementById('reportBtn');
  if (btn) {
    btn.target = '_blank';
    btn.href = formBase + encodeURIComponent(tag || '');
  }
});
</script>
</body>
</html>
